"use strict";(self.webpackChunkkta_utchol=self.webpackChunkkta_utchol||[]).push([[158],{6158:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var r=a(467),s=a(296),n=a(4756),o=a.n(n),l=a(9180),u=(a(9647),a(4914)),c=a(8700),i=a(5338),d=a(1159),v=a(2560),h=a(4848),m=function(){var e=(0,u.useState)(null),t=(0,s.A)(e,2),a=t[0],n=t[1],i=(0,u.useState)(1),m=(0,s.A)(i,2),f=m[0],p=m[1],x=(0,u.useState)(3),g=(0,s.A)(x,2),R=g[0],j=g[1],A=(0,u.useState)(!0),w=(0,s.A)(A,2),S=w[0],k=w[1],y=(0,u.useState)(null),I=(0,s.A)(y,2),E=I[0],b=I[1],D=((0,u.useRef)(!1),(0,u.useState)("activity")),L=(0,s.A)(D,2),_=L[0],U=L[1];(0,u.useEffect)((function(){var e=function(e){if(e.data&&e.data.userID&&e.data.levelValue&&e.data.mode){var t=e.data,a=t.userID,r=t.levelValue,s=t.mode;p(a),j(r),U(s),console.log("Received userID:",a,"levelValue:",r,"mode",s)}else console.warn("Invalid message received:",e.data)};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),(0,u.useEffect)((function(){f&&R&&_&&V(R,f,_)}),[f,R,_]);var V=function(){var e=(0,r.A)(o().mark((function e(t,a,r){var s,l,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),s={mode:r,userid:a,level:t},console.log("Level:",t,"Mode:",r,"UserID:",a),l=new URLSearchParams(s).toString(),e.next=7,fetch("https://thambaa.karky.in:6128/thamba/game/vaegee/play?".concat(l));case 7:return u=e.sent,e.next=10,u.json();case 10:if((c=e.sent).letters)try{c.letters=JSON.parse(c.letters)}catch(e){console.error("Error parsing letters data:",e),c.letters={}}else c.letters={};n(c),k(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),b(e.t0.message),k(!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a,r){return e.apply(this,arguments)}}();return S?(0,h.jsx)("div",{children:"Loading..."}):E?(0,h.jsxs)("div",{children:["Error: ",E]}):a&&Array.isArray(a.contents)&&0!==a.contents.length?(0,h.jsx)(l.HashRouter,{basename:"MISSING_ENV_VAR".PUBLIC_URL,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,h.jsxs)(l.Routes,{children:[(0,h.jsx)(l.Route,{path:"/",element:(0,h.jsx)(c.A,{})}),(0,h.jsx)(l.Route,{path:"/help",element:(0,h.jsx)(v.A,{})}),(0,h.jsx)(l.Route,{path:"/game",element:(0,h.jsx)(d.A,{gameData:a,userID:f,mode:_,level:R,onGameDataUpdate:n})})]})}):(0,h.jsx)("div",{children:"No data available for this level/user/mode."})},f=document.getElementById("app");if(!f)throw new Error("Failed to find the root element");i.createRoot(f).render((0,h.jsx)(m,{}));const p=m},5338:(e,t,a)=>{var r=a(676);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot}}]);