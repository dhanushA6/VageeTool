"use strict";(self.webpackChunkkta_utchol=self.webpackChunkkta_utchol||[]).push([[87],{1087:(e,t,a)=>{var r=a(4914),n=a.n(r),s=a(5338),o=a(9180),l=a(467),c=a(296),u=a(4756),i=a.n(u),d=(a(9647),a(8700)),v=a(1159),h=a(2560),m=a(4848),f=function(){var e=(0,r.useState)(null),t=(0,c.A)(e,2),a=t[0],n=t[1],s=(0,r.useState)(1),u=(0,c.A)(s,2),f=u[0],p=u[1],x=(0,r.useState)(3),R=(0,c.A)(x,2),g=R[0],j=R[1],w=(0,r.useState)(!0),A=(0,c.A)(w,2),S=A[0],y=A[1],I=(0,r.useState)(null),k=(0,c.A)(I,2),E=k[0],b=k[1],D=((0,r.useRef)(!1),(0,r.useState)("activity")),L=(0,c.A)(D,2),_=L[0],U=L[1];(0,r.useEffect)((function(){var e=function(e){if(e.data&&e.data.userID&&e.data.levelValue&&e.data.mode){var t=e.data,a=t.userID,r=t.levelValue,n=t.mode;p(a),j(r),U(n),console.log("Received userID:",a,"levelValue:",r,"mode",n)}else console.warn("Invalid message received:",e.data)};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),(0,r.useEffect)((function(){f&&g&&_&&V(g,f,_)}),[f,g,_]);var V=function(){var e=(0,l.A)(i().mark((function e(t,a,r){var s,o,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),s={mode:r,userid:a,level:t},console.log("Level:",t,"Mode:",r,"UserID:",a),o=new URLSearchParams(s).toString(),e.next=7,fetch("https://thambaa.karky.in:6128/thamba/game/vaegee/play?".concat(o));case 7:return l=e.sent,e.next=10,l.json();case 10:if((c=e.sent).letters)try{c.letters=JSON.parse(c.letters)}catch(e){console.error("Error parsing letters data:",e),c.letters={}}else c.letters={};n(c),y(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),b(e.t0.message),y(!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a,r){return e.apply(this,arguments)}}();return S?(0,m.jsx)("div",{children:"Loading..."}):E?(0,m.jsxs)("div",{children:["Error: ",E]}):a&&Array.isArray(a.contents)&&0!==a.contents.length?(0,m.jsx)(o.HashRouter,{basename:"MISSING_ENV_VAR".PUBLIC_URL,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,m.jsxs)(o.Routes,{children:[(0,m.jsx)(o.Route,{path:"/",element:(0,m.jsx)(d.A,{})}),(0,m.jsx)(o.Route,{path:"/help",element:(0,m.jsx)(h.A,{})}),(0,m.jsx)(o.Route,{path:"/game",element:(0,m.jsx)(v.A,{gameData:a,userID:f,mode:_,level:g,onGameDataUpdate:n})})]})}):(0,m.jsx)("div",{children:"No data available for this level/user/mode."})},p=document.getElementById("app");if(!p)throw new Error("Failed to find the root element");s.createRoot(p).render((0,m.jsx)(f,{}));const x=f;var R=document.getElementById("app");(0,s.createRoot)(R).render((0,m.jsx)(n().StrictMode,{children:(0,m.jsx)(o.BrowserRouter,{children:(0,m.jsx)(x,{})})}))},5338:(e,t,a)=>{var r=a(676);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot}}]);