"use strict";(self.webpackChunkkta_utchol=self.webpackChunkkta_utchol||[]).push([[87],{1087:(e,t,a)=>{var r=a(4914),n=a.n(r),s=a(5338),o=a(9180),l=a(467),u=a(296),c=a(4756),d=a.n(c),i=(a(9647),a(8700)),v=a(736),h=a(5547),m=a(4848),p=function(){var e=(0,r.useState)(null),t=(0,u.A)(e,2),a=t[0],n=t[1],s=(0,r.useState)(123),c=(0,u.A)(s,2),p=c[0],f=c[1],x=(0,r.useState)(1),R=(0,u.A)(x,2),g=R[0],j=R[1],w=(0,r.useState)(!0),S=(0,u.A)(w,2),A=S[0],I=S[1],k=(0,r.useState)(null),y=(0,u.A)(k,2),E=y[0],D=y[1],L=((0,r.useRef)(!1),(0,r.useState)("freeplay")),_=(0,u.A)(L,2),b=_[0],U=_[1];(0,r.useEffect)((function(){var e=function(e){if(e.data&&e.data.userID&&e.data.levelValue&&e.data.mode){var t=e.data,a=t.userID,r=t.levelValue,n=t.mode;f(a),j(r),U(n),console.log("Received userID:",a,"levelValue:",r,"mode",n)}else console.warn("Invalid message received:",e.data)};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),(0,r.useEffect)((function(){p&&g&&b&&V(g,p,b)}),[p,g,b]);var V=function(){var e=(0,l.A)(d().mark((function e(t,a,r){var s,o,l,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),s={mode:r,userid:a,level:t},console.log("Level:",t,"Mode:",r,"UserID:",a),o=new URLSearchParams(s).toString(),e.next=7,fetch("https://academy.karky.in:6128/thamba/game/vaegee/play?".concat(o));case 7:return l=e.sent,e.next=10,l.json();case 10:if((u=e.sent).letters)try{u.letters=JSON.parse(u.letters)}catch(e){console.error("Error parsing letters data:",e),u.letters={}}else u.letters={};n(u),I(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),D(e.t0.message),I(!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a,r){return e.apply(this,arguments)}}();return A?(0,m.jsx)("div",{children:"Loading..."}):E?(0,m.jsxs)("div",{children:["Error: ",E]}):(0,m.jsx)(o.HashRouter,{basename:"MISSING_ENV_VAR".PUBLIC_URL,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,m.jsxs)(o.Routes,{children:[(0,m.jsx)(o.Route,{path:"/",element:(0,m.jsx)(i.A,{})}),(0,m.jsx)(o.Route,{path:"/help",element:(0,m.jsx)(h.A,{})}),(0,m.jsx)(o.Route,{path:"/game",element:(0,m.jsx)(v.A,{gameData:a,userID:p,mode:b,level:g,onGameDataUpdate:n})})]})})},f=document.getElementById("app");if(!f)throw new Error("Failed to find the root element");s.createRoot(f).render((0,m.jsx)(p,{}));const x=p;var R=document.getElementById("app");(0,s.createRoot)(R).render((0,m.jsx)(n().StrictMode,{children:(0,m.jsx)(o.BrowserRouter,{children:(0,m.jsx)(x,{})})}))},5338:(e,t,a)=>{var r=a(676);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot}}]);